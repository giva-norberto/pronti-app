<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Agendamento PetShop</title>
    
    <link rel="stylesheet" href="vitrine.css">
    <link rel="stylesheet" href="menu-principal.css">
    <link rel="stylesheet" href="vitrine-pets.css"><!-- Opcional/futuramente -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        /* Adicional: destaque para pets */
        .dashboard-grid-cards .vitrine-card[data-menu-card="pets"] {
            background: linear-gradient(135deg, #ec4899, #ffb8e2);
            color: #fff;
        }
        .pet-card { background: #f9fafb; color: #222664; border-radius: 12px; box-shadow: 0 2px 8px rgba(236,72,153,.08); margin: 5px 2px 2px 2px; padding: 12px 12px 8px 12px; display: flex; align-items: center; gap: 12px; }
        .pet-card .foto-pet { width: 56px; height: 56px; border-radius: 50%; background: #fdeff6; object-fit: cover; }
        .pet-card .pet-info { flex: 1; }
        .pet-card-actions { display: flex; gap: 12px; }
        .pet-card .btn-pet { border: none; outline: none; background: #f472b6; color: #fff; padding: 4px 16px; font-size: 0.98em; border-radius: 9px; font-weight: 600; cursor: pointer; }
        .pet-card .btn-pet:hover { background: #c026d3; }
        .pet-add-card { background: #ffe4e6; color: #aa1d6f; border: 2px dashed #ec4899; display: flex; align-items: center; gap: 14px; padding: 16px; border-radius: 13px; cursor: pointer; margin-top: 13px; }
        .pet-add-card i { font-size: 2em; }
        .form-cadastro-pet { background: #fff; border-radius: 14px; padding: 18px 23px; box-shadow: 0 4px 14px rgba(236,72,153,.09); position: relative; color: #222664; z-index: 2; }
        .label-porte-pet { font-size: 1.13em; font-weight: 600; margin-bottom: 12px; color: #c026d3; }
        .campo-agendamento-pet { margin-bottom: 18px; }
        .pet-highlight { color: #ec4899; background: #fff0f6; font-weight: 700; padding: 2px 9px; border-radius: 7px; }
        /* Mantém todo o resto do CSS igual ao vitrine normal */
    </style>
</head>
<body>
    <div id="vitrine-loader">
        <p style="text-align: center; width: 100%; margin-top: 50px;">A carregar informações do petshop...</p>
    </div>

    <div id="vitrine-content" class="vitrine-container" style="display: none;">
        <main class="main-content-vitrine">
            <div id="main-navigation-container">
                <div class="header-vitrine-card">
                    <img id="logo-publico" src="https://placehold.co/100x100/e0e7ff/6366f1?text=PET" alt="Logo do PetShop">
                    <h1 id="nome-negocio-publico">Carregando...</h1>
                    <p id="boas-vindas-usuario" class="boas-vindas-usuario">Bem-vindo(a) ao PetShop!</p>
                    <div id="usuario-logado-nome" class="usuario-logado-nome"></div>
                </div>
                <div class="dashboard-grid-cards" id="vitrine-cards-grid">
                    <a href="#" class="vitrine-card" data-menu-card="agendamento" style="background: linear-gradient(135deg, #ec4899, #ffb8e2);">
                        <i class="fa-solid fa-paw"></i>
                        <span>Agendar Pet</span>
                    </a>
                    <a href="#" class="vitrine-card" data-menu-card="pets" style="background: linear-gradient(135deg, #fd9cb7, #ffe4e6);">
                        <i class="fa-solid fa-dog"></i>
                        <span>Meus Pets</span>
                    </a>
                    <a href="#" class="vitrine-card" data-menu-card="visualizacao" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
                        <i class="fa-solid fa-list-check"></i>
                        <span>Minhas Reservas</span>
                    </a>
                    <a href="#" class="vitrine-card" data-menu-card="informacoes" style="background: linear-gradient(135deg, #f59e42, #ff5858);">
                        <i class="fa-solid fa-circle-info"></i>
                        <span>Sobre o Local</span>
                    </a>
                    <a href="#" class="vitrine-card" data-menu-card="perfil" style="background: linear-gradient(135deg, #374151, #111827);">
                        <i class="fa-solid fa-user-circle"></i>
                        <span id="card-perfil-texto">Perfil</span>
                    </a>
                    <a href="#" class="vitrine-card" data-menu-card="assinatura" style="background: linear-gradient(135deg, #10b981 0%, #4f46e5 100%);">
                        <i class="fa-solid fa-crown"></i>
                        <span>Assinatura</span>
                    </a>
                </div>
            </div>

            <!-- Bloco exclusivo do layout PET ativado pelo JS -->
            <div id="pets-navigation-container" style="display: none;">
                <div class="header-vitrine-card">
                    <img id="logo-publico-pet" src="https://placehold.co/100x100/e0e7ff/6366f1?text=PET" alt="Logo PET">
                    <h1 id="nome-negocio-publico-pet">PET SHOP</h1>
                    <p class="boas-vindas-usuario">Bem-vindo(a) ao Pet!</p>
                </div>
                <div class="dashboard-grid-cards" id="vitrine-cards-grid-pet">
                    <a href="#" class="vitrine-card" data-menu-card="agendamento" style="background: linear-gradient(135deg, #06d6a0, #ffd166);">
                        <i class="fa-solid fa-dog"></i>
                        <span>Agendar PET</span>
                    </a>
                    <a href="#" class="vitrine-card" data-menu-card="visualizacao" style="background: linear-gradient(135deg, #ffd166, #ef476f);">
                        <i class="fa-solid fa-paw"></i>
                        <span>Minhas Reservas PET</span>
                    </a>
                    <a href="#" class="vitrine-card" data-menu-card="informacoes" style="background: linear-gradient(135deg, #4ecdc4, #118ab2);">
                        <i class="fa-solid fa-info-circle"></i>
                        <span>Sobre o Pet</span>
                    </a>
                    <!-- Adicione mais cards PET conforme necessidade -->
                </div>
            </div>
            <!-- Fim do Bloco PET -->

            <div id="menu-pets" class="menu-content" style="display: none;">
                <button class="btn-voltar"><i class="fa-solid fa-arrow-left"></i> Voltar</button>
                <h2><i class="fa-solid fa-dog"></i> Meus Pets</h2>
                <div id="pets-list-container"></div>
                <div id="pets-cadastro-container" style="display: none;"></div>
            </div>

            <div id="menu-assinatura" class="menu-content" style="display: none;">
                <button class="btn-voltar"><i class="fa-solid fa-arrow-left"></i> Voltar</button>
                <h2>Planos de Assinatura</h2> 
                <div id="cards-planos-vitrine">
                    <p class="info" style="color: #fff;">A carregar planos disponíveis...</p>
                </div>
            </div>

            <div id="menu-agendamento" class="menu-content" style="display: none;">
                <button class="btn-voltar"><i class="fa-solid fa-arrow-left"></i> Voltar</button>
                <div class="card"> 
                    <h2>Agendar Banho & Tosa Pet</h2>
                    <div id="agendamento-login-prompt" style="display: none;">
                        <p>Você precisa <a href="#" id="login-link-agendamento">fazer login</a> para agendar seu pet.</p>
                    </div>
                    <div class="form-group">
                        <label>1. Escolha seu Pet</label>
                        <div id="escolher-pet-lista" class="pets-selecao-container"></div>
                        <div id="cadastro-pet-agendamento"></div>
                    </div>
                    <div id="agendamento-form-container" style="display: none;">
                        <div class="form-group">
                            <label>2. Escolha o serviço</label>
                            <div id="lista-servicos-pet" class="servicos-container-cards"></div>
                        </div>
                        <div class="form-group" style="margin-top: 13px;">
                            <label>3. Escolha o porte do pet</label>
                            <select id="selecionar-porte-pet" class="campo-agendamento-pet" style="font-size:1em;">
                                <option value="">Selecione o porte...</option>
                                <option value="pequeno">Pequeno</option>
                                <option value="medio">Médio</option>
                                <option value="grande">Grande</option>
                            </select>
                        </div>
                        <div id="data-e-horario-container" style="display:none;">
                            <div class="form-group">
                                <label for="data-agendamento-pet">4. Escolha uma data</label>
                                <input type="date" id="data-agendamento-pet" required disabled>
                            </div>
                            <div class="form-group">
                                <label>5. Escolha um horário</label>
                                <div id="grade-horarios-pet" class="horarios-container-grid"><p class="aviso-horarios">Selecione um pet e um serviço.</p></div>
                            </div>
                            <div id="resumo-agendamento-final-pet" style="margin: 24px 0 8px 0;"></div>
                            <button id="btn-confirmar-agendamento-pet" disabled>Confirmar Agendamento</button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="menu-informacoes" class="menu-content" style="display: none;">
                <button class="btn-voltar"><i class="fa-solid fa-arrow-left"></i> Voltar</button>
                <div class="card"><h2>Sobre o Petshop</h2><div id="info-negocio"></div></div>
                <div class="card"><h2>Serviços Pet Oferecidos</h2><div id="info-servicos"></div></div>
                <div class="card"><h2>Contato e Localização</h2><div id="info-contato"></div></div>
            </div>
            <div id="menu-visualizacao" class="menu-content" style="display: none;">
                <button class="btn-voltar"><i class="fa-solid fa-arrow-left"></i> Voltar</button>
                <div class="card"><h2>Reservas</h2>
                    <div id="agendamentos-login-prompt" style="display: none;">
                        <p>Você precisa <a href="#" id="login-link-visualizacao">fazer login</a> para ver seus agendamentos.</p>
                    </div>
                    <div id="botoes-agendamento" class="botoes-agendamento" style="display: none;">
                        <button id="btn-ver-ativos" class="btn-toggle ativo">Ver Ativos</button>
                        <button id="btn-ver-historico" class="btn-toggle">Ver Histórico</button>
                    </div>
                </div>
                <div id="lista-agendamentos-visualizacao" class="lista-agendamentos-resultado"></div>
            </div>
            <div id="menu-perfil" class="menu-content" style="display: none;">
                <button class="btn-voltar"><i class="fa-solid fa-arrow-left"></i> Voltar</button>
                <div class="card"><h2>Meu Perfil</h2>
                    <div id="user-info" style="display: none;">
                        <img id="user-photo" src="" alt="Foto do Cliente" style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 15px;">
                        <p id="user-name" style="font-weight: 600; font-size: 1.2rem;"></p>
                        <button id="btn-logout" class="btn-secondary">Sair</button>
                    </div>
                    <div id="btn-login-container"><button id="btn-login" class="btn-submit">Fazer Login com Google</button></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modais de confirmação, autenticação etc. MANTIDOS IGUAIS -->
    <div id="custom-confirm-modal" class="modal-overlay">
        <div class="modal-box">
            <h3 id="modal-titulo">Confirmar Ação</h3>
            <p id="modal-mensagem">Tem a certeza que deseja prosseguir?</p>
            <div class="modal-botoes">
                <button id="modal-btn-cancelar">Cancelar</button>
                <button id="modal-btn-confirmar">Confirmar</button>
            </div>
        </div>
    </div>
    <div id="modal-auth-janela" class="modal-overlay">
        <div class="modal-auth-container">
            <button id="modal-auth-close-btn" title="Fechar">&times;</button>
            <!-- MESMA LÓGICA DE LOGIN/CADASTRO -->
            <div id="modal-auth-loading" style="display:none;text-align:center;margin-bottom:1rem;">Carregando...</div>
            <div id="modal-auth-login" class="modal-auth-step">
                <h2>Faça seu Login</h2>
                <p style="text-align:center; margin-top: -15px; margin-bottom: 24px; color: #64748b;">para continuar com o agendamento Pet.</p>
                <button type="button" class="modal-auth-btn" id="modal-auth-btn-google">
                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google icon" style="width: 18px; height: 18px;">
                    <span>Entrar com Google</span>
                </button>
                <div style="text-align:center;color:#9ca3af;margin:16px 0;">ou</div>
                <form id="modal-auth-form-login">
                    <input id="modal-auth-login-email" type="email" placeholder="E-mail" required>
                    <input id="modal-auth-login-senha" type="password" placeholder="Senha" required>
                    <button class="modal-auth-btn modal-auth-btn-submit">Entrar</button>
                </form>
                <div style="text-align:center;margin-top:16px;">
                    <a href="#" id="modal-auth-btn-to-cadastro">Criar nova conta</a>
                </div>
            </div>
            <div id="modal-auth-cadastro" class="modal-auth-step" style="display:none;">
                <h2>Crie sua Conta</h2>
                <form id="modal-auth-form-cadastro">
                    <input id="modal-auth-cadastro-nome" type="text" placeholder="Nome completo" required>
                    <input id="modal-auth-cadastro-email" type="email" placeholder="Email" required>
                    <input id="modal-auth-cadastro-senha" type="password" placeholder="Senha" required>
                    <input id="modal-auth-cadastro-telefone" type="tel" placeholder="Telefone (WhatsApp )" required>
                    <button class="modal-auth-btn modal-auth-btn-submit">Cadastrar</button>
                </form>
                <div style="text-align:center;margin-top:16px;">
                    <a href="#" id="modal-auth-btn-to-login">Já tenho conta</a>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS PRINCIPAIS -->
    <script type="module" src="./vitrine-pets.js"></script>
    <!-- MÓDULOS COMPARTILHADOS -->
    <script type="module" src="./vitrini-auth.js"></script>
    <script type="module" src="./vitrini-firebase.js"></script>
    <script type="module" src="./vitrine-assinatura-integration.js"></script>

    <!-- Outros scripts PETs específicos (agendamento, pets, UI) -->
    <script type="module" src="./vitrine-pets-agendamento.js"></script>
    <script type="module" src="./vitrine-pets-ui.js"></script>
    <script type="module" src="./vitrine-pets-animais.js"></script>
</body>
</html>
