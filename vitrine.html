<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>Agendamento Online - Sal√£o de Beleza</title>
    
    <link rel="stylesheet" href="vitrine-melhorado.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#4F46E5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Agendamento">
</head>
<body>
    <div id="vitrine-loader" style="display: none;">
        <p style="text-align: center; width: 100%; margin-top: 50px; color: white;">A carregar informa√ß√µes do neg√≥cio...</p>
    </div>

    <div id="vitrine-content" class="vitrine-container">
        <aside class="sidebar-vitrine">
            <div class="header-vitrine">
                <img id="logo-publico" src="https://placehold.co/100x100/4F46E5/ffffff?text=üíá" alt="Log√≥tipo do Neg√≥cio">
                <h1 id="nome-negocio-publico">Sal√£o de Beleza</h1>
            </div>
            <nav class="sidebar-menu">
                <button class="menu-btn ativo" data-menu="informacoes">üìã Informa√ß√µes</button>
                <button class="menu-btn" data-menu="agendamento">üìÖ Agendar</button>
                <button class="menu-btn" data-menu="visualizacao">üìã Meus Agendamentos</button>
                <button class="menu-btn" data-menu="perfil">üë§ Perfil</button>
            </nav>
        </aside>

        <main class="main-content-vitrine">
            <!-- Tela de Informa√ß√µes -->
            <div id="menu-informacoes" class="menu-content ativo">
                <div class="card">
                    <h2>üíº Sobre o Neg√≥cio</h2>
                    <div id="info-negocio">
                        <p>Bem-vindo ao nosso sal√£o de beleza! Oferecemos os melhores servi√ßos de cabeleireiro, manicure e est√©tica com profissionais qualificados e experientes.</p>
                        <p>Nossa miss√£o √© real√ßar a sua beleza natural com t√©cnicas modernas e produtos de alta qualidade.</p>
                    </div>
                </div>
                <div class="card">
                    <h2>‚ú® Servi√ßos Oferecidos</h2>
                    <div id="info-servicos">
                        <div class="servico-info-item">
                            <strong>üíá‚Äç‚ôÄÔ∏è Corte de Cabelo</strong>
                            <span>R$ 50,00</span>
                        </div>
                        <div class="servico-info-item">
                            <strong>üíÖ Manicure</strong>
                            <span>R$ 30,00</span>
                        </div>
                        <div class="servico-info-item">
                            <strong>ü¶∂ Pedicure</strong>
                            <span>R$ 35,00</span>
                        </div>
                        <div class="servico-info-item">
                            <strong>üé® Colora√ß√£o</strong>
                            <span>R$ 80,00</span>
                        </div>
                        <div class="servico-info-item">
                            <strong>üíÜ‚Äç‚ôÄÔ∏è Tratamento Capilar</strong>
                            <span>R$ 60,00</span>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h2>üìû Contato</h2>
                    <div id="info-contato">
                        <p><strong>üì± Telefone:</strong> (11) 99999-9999</p>
                        <p><strong>üìç Endere√ßo:</strong> Rua das Flores, 123 - Centro</p>
                        <p><strong>üïí Hor√°rio:</strong> Segunda a S√°bado, 9h √†s 18h</p>
                        <p><strong>üìß Email:</strong> contato@salaobeleza.com</p>
                    </div>
                </div>
            </div>

            <!-- Tela de Agendamento -->
            <div id="menu-agendamento" class="menu-content">
                <div class="card">
                    <h2>üìÖ Fa√ßa o seu Agendamento</h2>
                    <div class="form-group">
                        <label>1Ô∏è‚É£ Escolha um profissional</label>
                        <div id="lista-profissionais" class="profissionais-container">
                            <div class="card-profissional" data-id="1">
                                <img src="https://placehold.co/80x80/F3F4F6/4F46E5?text=üë©" alt="Ana">
                                <span>Ana Silva</span>
                            </div>
                            <div class="card-profissional" data-id="2">
                                <img src="https://placehold.co/80x80/F3F4F6/4F46E5?text=üë®" alt="Jo√£o">
                                <span>Jo√£o Santos</span>
                            </div>
                            <div class="card-profissional" data-id="3">
                                <img src="https://placehold.co/80x80/F3F4F6/4F46E5?text=üë©" alt="Maria">
                                <span>Maria Costa</span>
                            </div>
                            <div class="card-profissional" data-id="4">
                                <img src="https://placehold.co/80x80/F3F4F6/4F46E5?text=üë®" alt="Carlos">
                                <span>Carlos Lima</span>
                            </div>
                        </div>
                    </div>
                    <div id="agendamento-form-container">
                        <div class="form-group">
                            <label>2Ô∏è‚É£ Escolha um servi√ßo</label>
                            <div id="lista-servicos" class="servicos-container-cards">
                                <div class="card-servico" data-id="1">
                                    <div>
                                        <div class="servico-nome">üíá‚Äç‚ôÄÔ∏è Corte de Cabelo</div>
                                        <div class="servico-detalhes">Dura√ß√£o: 60min - R$ 50,00</div>
                                    </div>
                                </div>
                                <div class="card-servico" data-id="2">
                                    <div>
                                        <div class="servico-nome">üíÖ Manicure</div>
                                        <div class="servico-detalhes">Dura√ß√£o: 45min - R$ 30,00</div>
                                    </div>
                                </div>
                                <div class="card-servico" data-id="3">
                                    <div>
                                        <div class="servico-nome">ü¶∂ Pedicure</div>
                                        <div class="servico-detalhes">Dura√ß√£o: 50min - R$ 35,00</div>
                                    </div>
                                </div>
                                <div class="card-servico" data-id="4">
                                    <div>
                                        <div class="servico-nome">üé® Colora√ß√£o</div>
                                        <div class="servico-detalhes">Dura√ß√£o: 120min - R$ 80,00</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="data-agendamento">3Ô∏è‚É£ Escolha uma data</label>
                            <input type="date" id="data-agendamento" required>
                        </div>
                        <div class="form-group">
                            <label>4Ô∏è‚É£ Escolha um hor√°rio</label>
                            <div id="grade-horarios" class="horarios-container-grid">
                                <button class="btn-horario" data-horario="09:00"><span>09:00</span></button>
                                <button class="btn-horario" data-horario="10:00"><span>10:00</span></button>
                                <button class="btn-horario" data-horario="11:00"><span>11:00</span></button>
                                <button class="btn-horario" data-horario="14:00"><span>14:00</span></button>
                                <button class="btn-horario" data-horario="15:00"><span>15:00</span></button>
                                <button class="btn-horario" data-horario="16:00"><span>16:00</span></button>
                                <button class="btn-horario" data-horario="17:00"><span>17:00</span></button>
                                <button class="btn-horario" data-horario="18:00"><span>18:00</span></button>
                            </div>
                        </div>
                        <button id="btn-confirmar-agendamento">‚úÖ Confirmar Agendamento</button>
                    </div>
                </div>
            </div>

            <!-- Tela de Meus Agendamentos -->
            <div id="menu-visualizacao" class="menu-content">
                <div class="card">
                    <h2>üìã Meus Agendamentos</h2>
                    <div id="botoes-agendamento" class="botoes-agendamento">
                        <button id="btn-ver-ativos" class="btn-toggle ativo">üü¢ Ver Ativos</button>
                        <button id="btn-ver-historico" class="btn-toggle">üìö Ver Hist√≥rico</button>
                    </div>
                </div>
                <div id="lista-agendamentos-visualizacao" class="lista-agendamentos-resultado">
                    <div class="card-agendamento">
                        <div class="agendamento-info">
                            <strong>üíá‚Äç‚ôÄÔ∏è Corte de Cabelo com Ana Silva</strong>
                            <span>üìÖ 25/12/2024 √†s 14:00</span>
                            <small>üü¢ Status: Agendado</small>
                        </div>
                        <div class="agendamento-acao">
                            <button class="btn-cancelar" data-id="1">‚ùå Cancelar</button>
                        </div>
                    </div>
                    <div class="card-agendamento">
                        <div class="agendamento-info">
                            <strong>üíÖ Manicure com Maria Costa</strong>
                            <span>üìÖ 28/12/2024 √†s 10:00</span>
                            <small>üü¢ Status: Agendado</small>
                        </div>
                        <div class="agendamento-acao">
                            <button class="btn-cancelar" data-id="2">‚ùå Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tela de Perfil -->
            <div id="menu-perfil" class="menu-content">
                <div class="card">
                    <h2>üë§ Meu Perfil</h2>
                    <div id="user-info" style="display: none;">
                        <img id="user-photo" src="" alt="Foto do Utilizador" style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 15px;">
                        <p id="user-name" style="font-weight: 600; font-size: 1.2rem;"></p>
                        <button id="btn-logout" class="btn-secondary">üö™ Sair</button>
                    </div>
                    <div id="btn-login-container">
                        <button id="btn-login" class="btn-submit">üîê Fazer Login com Google</button>
                        <p style="text-align: center; margin-top: 15px; color: #6B7280; font-size: 0.9rem;">
                            Fa√ßa login para agendar servi√ßos e gerenciar seus agendamentos
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Bottom Navigation para Mobile -->
    <nav class="bottom-nav-vitrine">
        <button class="ativo" data-menu="informacoes">
            <span style="font-size: 1.2rem;">üìã</span>
            <span>Info</span>
        </button>
        <button data-menu="agendamento">
            <span style="font-size: 1.2rem;">üìÖ</span>
            <span>Agendar</span>
        </button>
        <button data-menu="visualizacao">
            <span style="font-size: 1.2rem;">üìã</span>
            <span>Meus</span>
        </button>
        <button data-menu="perfil">
            <span style="font-size: 1.2rem;">üë§</span>
            <span>Perfil</span>
        </button>
    </nav>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Configurar data m√≠nima como hoje
            const hoje = new Date().toISOString().split('T')[0];
            document.getElementById('data-agendamento').min = hoje;

            // Sidebar navigation (desktop/tablet)
            document.querySelectorAll('.sidebar-menu .menu-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    trocarMenu(btn.dataset.menu);
                });
            });

            // Bottom navigation (mobile)
            document.querySelectorAll('.bottom-nav-vitrine button').forEach(btn => {
                btn.addEventListener('click', function() {
                    trocarMenu(btn.dataset.menu);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });

            function trocarMenu(menu) {
                // Atualizar sidebar
                document.querySelectorAll('.sidebar-menu .menu-btn').forEach(b => b.classList.remove('ativo'));
                const btnSidebar = document.querySelector('.sidebar-menu .menu-btn[data-menu="' + menu + '"]');
                if (btnSidebar) btnSidebar.classList.add('ativo');

                // Atualizar bottom nav
                document.querySelectorAll('.bottom-nav-vitrine button').forEach(b => b.classList.remove('ativo'));
                const btnMobile = document.querySelector('.bottom-nav-vitrine button[data-menu="' + menu + '"]');
                if (btnMobile) btnMobile.classList.add('ativo');

                // Trocar conte√∫do
                document.querySelectorAll('.main-content-vitrine .menu-content').forEach(sec => sec.classList.remove('ativo'));
                const tela = document.getElementById('menu-' + menu);
                if (tela) tela.classList.add('ativo');
            }

            // Sele√ß√£o de profissionais
            document.querySelectorAll('.card-profissional').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.card-profissional').forEach(c => c.classList.remove('selecionado'));
                    card.classList.add('selecionado');
                    
                    // Adicionar feedback visual
                    card.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        card.style.transform = '';
                    }, 150);
                });
            });

            // Sele√ß√£o de servi√ßos
            document.querySelectorAll('.card-servico').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.card-servico').forEach(c => c.classList.remove('selecionado'));
                    card.classList.add('selecionado');
                    
                    // Adicionar feedback visual
                    card.style.transform = 'translateX(10px)';
                    setTimeout(() => {
                        card.style.transform = '';
                    }, 200);
                });
            });

            // Sele√ß√£o de hor√°rios
            document.querySelectorAll('.btn-horario').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.btn-horario').forEach(b => b.classList.remove('selecionado'));
                    btn.classList.add('selecionado');
                    
                    // Habilitar bot√£o de confirmar
                    document.getElementById('btn-confirmar-agendamento').disabled = false;
                    
                    // Adicionar feedback visual
                    btn.style.transform = 'scale(0.9)';
                    setTimeout(() => {
                        btn.style.transform = '';
                    }, 150);
                });
            });

            // Bot√µes de filtro de agendamentos
            document.querySelectorAll('.btn-toggle').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.btn-toggle').forEach(b => b.classList.remove('ativo'));
                    btn.classList.add('ativo');
                });
            });

            // Confirmar agendamento
            document.getElementById('btn-confirmar-agendamento').addEventListener('click', function() {
                const profissional = document.querySelector('.card-profissional.selecionado');
                const servico = document.querySelector('.card-servico.selecionado');
                const data = document.getElementById('data-agendamento').value;
                const horario = document.querySelector('.btn-horario.selecionado');

                if (!profissional || !servico || !data || !horario) {
                    alert('Por favor, selecione todas as op√ß√µes antes de confirmar.');
                    return;
                }

                // Simular loading
                this.innerHTML = '‚è≥ Agendando...';
                this.disabled = true;

                setTimeout(() => {
                    alert('‚úÖ Agendamento confirmado com sucesso!');
                    this.innerHTML = '‚úÖ Confirmar Agendamento';
                    this.disabled = false;
                    
                    // Limpar sele√ß√µes
                    document.querySelectorAll('.selecionado').forEach(el => el.classList.remove('selecionado'));
                    document.getElementById('data-agendamento').value = '';
                }, 2000);
            });

            // Cancelar agendamento
            document.querySelectorAll('.btn-cancelar').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (confirm('Tem certeza que deseja cancelar este agendamento?')) {
                        const card = this.closest('.card-agendamento');
                        card.style.transform = 'translateX(-100%)';
                        card.style.opacity = '0';
                        setTimeout(() => {
                            card.remove();
                        }, 300);
                    }
                });
            });

            // Adicionar efeitos de hover para touch devices
            if ('ontouchstart' in window) {
                document.querySelectorAll('.card-profissional, .card-servico, .btn-horario').forEach(el => {
                    el.addEventListener('touchstart', function() {
                        this.style.transform = 'scale(0.98)';
                    });
                    el.addEventListener('touchend', function() {
                        setTimeout(() => {
                            this.style.transform = '';
                        }, 100);
                    });
                });
            }
        });
    </script>
</body>
</html>
