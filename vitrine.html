<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>Agendamento Online - SalÃ£o de Beleza</title>
    
    <link rel="stylesheet" href="vitrine-melhorado.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#4F46E5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Agendamento">
</head>
<body>
    <div id="vitrine-loader" style="display: none;">
        <p style="text-align: center; width: 100%; margin-top: 50px; color: white;">A carregar informaÃ§Ãµes do negÃ³cio...</p>
    </div>

    <div id="vitrine-content" class="vitrine-container">
        <aside class="sidebar-vitrine">
            <div class="header-vitrine">
                <img id="logo-publico" src="https://placehold.co/100x100/4F46E5/ffffff?text=ğŸ’‡" alt="LogÃ³tipo do NegÃ³cio">
                <h1 id="nome-negocio-publico">SalÃ£o de Beleza</h1>
            </div>
            <nav class="sidebar-menu">
                <button class="menu-btn ativo" data-menu="informacoes">ğŸ“‹ InformaÃ§Ãµes</button>
                <button class="menu-btn" data-menu="agendamento">ğŸ“… Agendar</button>
                <button class="menu-btn" data-menu="visualizacao">ğŸ“‹ Meus Agendamentos</button>
                <button class="menu-btn" data-menu="perfil">ğŸ‘¤ Perfil</button>
            </nav>
        </aside>

        <main class="main-content-vitrine">
            <!-- Tela de InformaÃ§Ãµes -->
            <div id="menu-informacoes" class="menu-content ativo">
                <div class="card">
                    <h2>ğŸ’¼ Sobre o NegÃ³cio</h2>
                    <div id="info-negocio">
                        <p>Bem-vindo ao nosso salÃ£o de beleza! Oferecemos os melhores serviÃ§os de cabeleireiro, manicure e estÃ©tica com profissionais qualificados e experientes.</p>
                        <p>Nossa missÃ£o Ã© realÃ§ar a sua beleza natural com tÃ©cnicas modernas e produtos de alta qualidade.</p>
                    </div>
                </div>
                <div class="card">
                    <h2>âœ¨ ServiÃ§os Oferecidos</h2>
                    <div id="info-servicos">
                        <div class="servico-info-item">
                            <strong>ğŸ’‡â€â™€ï¸ Corte de Cabelo</strong>
                            <span>R$ 50,00</span>
                        </div>
                        <div class="servico-info-item">
                            <strong>ğŸ’… Manicure</strong>
                            <span>R$ 30,00</span>
                        </div>
                        <div class="servico-info-item">
                            <strong>ğŸ¦¶ Pedicure</strong>
                            <span>R$ 35,00</span>
                        </div>
                        <div class="servico-info-item">
                            <strong>ğŸ¨ ColoraÃ§Ã£o</strong>
                            <span>R$ 80,00</span>
                        </div>
                        <div class="servico-info-item">
                            <strong>ğŸ’†â€â™€ï¸ Tratamento Capilar</strong>
                            <span>R$ 60,00</span>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h2>ğŸ“ Contato</h2>
                    <div id="info-contato">
                        <p><strong>ğŸ“± Telefone:</strong> (11) 99999-9999</p>
                        <p><strong>ğŸ“ EndereÃ§o:</strong> Rua das Flores, 123 - Centro</p>
                        <p><strong>ğŸ•’ HorÃ¡rio:</strong> Segunda a SÃ¡bado, 9h Ã s 18h</p>
                        <p><strong>ğŸ“§ Email:</strong> contato@salaobeleza.com</p>
                    </div>
                </div>
            </div>

            <!-- Tela de Agendamento -->
            <div id="menu-agendamento" class="menu-content">
                <div class="card">
                    <h2>ğŸ“… FaÃ§a o seu Agendamento</h2>
                    <div class="form-group">
                        <label>1ï¸âƒ£ Escolha um profissional</label>
                        <div id="lista-profissionais" class="profissionais-container">
                            <div class="card-profissional" data-id="1">
                                <img src="https://placehold.co/80x80/F3F4F6/4F46E5?text=ğŸ‘©" alt="Ana">
                                <span>Ana Silva</span>
                            </div>
                            <div class="card-profissional" data-id="2">
                                <img src="https://placehold.co/80x80/F3F4F6/4F46E5?text=ğŸ‘¨" alt="JoÃ£o">
                                <span>JoÃ£o Santos</span>
                            </div>
                            <div class="card-profissional" data-id="3">
                                <img src="https://placehold.co/80x80/F3F4F6/4F46E5?text=ğŸ‘©" alt="Maria">
                                <span>Maria Costa</span>
                            </div>
                            <div class="card-profissional" data-id="4">
                                <img src="https://placehold.co/80x80/F3F4F6/4F46E5?text=ğŸ‘¨" alt="Carlos">
                                <span>Carlos Lima</span>
                            </div>
                        </div>
                    </div>
                    <div id="agendamento-form-container">
                        <div class="form-group">
                            <label>2ï¸âƒ£ Escolha um serviÃ§o</label>
                            <div id="lista-servicos" class="servicos-container-cards">
                                <div class="card-servico" data-id="1">
                                    <div>
                                        <div class="servico-nome">ğŸ’‡â€â™€ï¸ Corte de Cabelo</div>
                                        <div class="servico-detalhes">DuraÃ§Ã£o: 60min - R$ 50,00</div>
                                    </div>
                                </div>
                                <div class="card-servico" data-id="2">
                                    <div>
                                        <div class="servico-nome">ğŸ’… Manicure</div>
                                        <div class="servico-detalhes">DuraÃ§Ã£o: 45min - R$ 30,00</div>
                                    </div>
                                </div>
                                <div class="card-servico" data-id="3">
                                    <div>
                                        <div class="servico-nome">ğŸ¦¶ Pedicure</div>
                                        <div class="servico-detalhes">DuraÃ§Ã£o: 50min - R$ 35,00</div>
                                    </div>
                                </div>
                                <div class="card-servico" data-id="4">
                                    <div>
                                        <div class="servico-nome">ğŸ¨ ColoraÃ§Ã£o</div>
                                        <div class="servico-detalhes">DuraÃ§Ã£o: 120min - R$ 80,00</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="data-agendamento">3ï¸âƒ£ Escolha uma data</label>
                            <input type="date" id="data-agendamento" required>
                        </div>
                        <div class="form-group">
                            <label>4ï¸âƒ£ Escolha um horÃ¡rio</label>
                            <div id="grade-horarios" class="horarios-container-grid">
                                <button class="btn-horario" data-horario="09:00"><span>09:00</span></button>
                                <button class="btn-horario" data-horario="10:00"><span>10:00</span></button>
                                <button class="btn-horario" data-horario="11:00"><span>11:00</span></button>
                                <button class="btn-horario" data-horario="14:00"><span>14:00</span></button>
                                <button class="btn-horario" data-horario="15:00"><span>15:00</span></button>
                                <button class="btn-horario" data-horario="16:00"><span>16:00</span></button>
                                <button class="btn-horario" data-horario="17:00"><span>17:00</span></button>
                                <button class="btn-horario" data-horario="18:00"><span>18:00</span></button>
                            </div>
                        </div>
                        <button id="btn-confirmar-agendamento">âœ… Confirmar Agendamento</button>
                    </div>
                </div>
            </div>

            <!-- Tela de Meus Agendamentos -->
            <div id="menu-visualizacao" class="menu-content">
                <div class="card">
                    <h2>ğŸ“‹ Meus Agendamentos</h2>
                    <div id="botoes-agendamento" class="botoes-agendamento">
                        <button id="btn-ver-ativos" class="btn-toggle ativo">ğŸŸ¢ Ver Ativos</button>
                        <button id="btn-ver-historico" class="btn-toggle">ğŸ“š Ver HistÃ³rico</button>
                    </div>
                </div>
                <div id="lista-agendamentos-visualizacao" class="lista-agendamentos-resultado">
                    <div class="card-agendamento">
                        <div class="agendamento-info">
                            <strong>ğŸ’‡â€â™€ï¸ Corte de Cabelo com Ana Silva</strong>
                            <span>ğŸ“… 25/12/2024 Ã s 14:00</span>
                            <small>ğŸŸ¢ Status: Agendado</small>
                        </div>
                        <div class="agendamento-acao">
                            <button class="btn-cancelar" data-id="1">âŒ Cancelar</button>
                        </div>
                    </div>
                    <div class="card-agendamento">
                        <div class="agendamento-info">
                            <strong>ğŸ’… Manicure com Maria Costa</strong>
                            <span>ğŸ“… 28/12/2024 Ã s 10:00</span>
                            <small>ğŸŸ¢ Status: Agendado</small>
                        </div>
                        <div class="agendamento-acao">
                            <button class="btn-cancelar" data-id="2">âŒ Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tela de Perfil -->
            <div id="menu-perfil" class="menu-content">
                <div class="card">
                    <h2>ğŸ‘¤ Meu Perfil</h2>
                    <div id="user-info" style="display: none;">
                        <img id="user-photo" src="" alt="Foto do Utilizador" style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 15px;">
                        <p id="user-name" style="font-weight: 600; font-size: 1.2rem;"></p>
                        <button id="btn-logout" class="btn-secondary">ğŸšª Sair</button>
                    </div>
                    <div id="btn-login-container">
                        <button id="btn-login" class="btn-submit">ğŸ” Fazer Login com Google</button>
                        <p style="text-align: center; margin-top: 15px; color: #6B7280; font-size: 0.9rem;">
                            FaÃ§a login para agendar serviÃ§os e gerenciar seus agendamentos
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Bottom Navigation para Mobile -->
    <nav class="bottom-nav-vitrine">
        <button class="ativo" data-menu="informacoes">
            <span style="font-size: 1.2rem;">ğŸ“‹</span>
            <span>Info</span>
        </button>
        <button data-menu="agendamento">
            <span style="font-size: 1.2rem;">ğŸ“…</span>
            <span>Agendar</span>
        </button>
        <button data-menu="visualizacao">
            <span style="font-size: 1.2rem;">ğŸ“‹</span>
            <span>Meus</span>
        </button>
        <button data-menu="perfil">
            <span style="font-size: 1.2rem;">ğŸ‘¤</span>
            <span>Perfil</span>
        </button>
    </nav>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Configurar data mÃ­nima como hoje
            const hoje = new Date().toISOString().split('T')[0];
            document.getElementById('data-agendamento').min = hoje;

            // Sidebar navigation (desktop/tablet)
            document.querySelectorAll('.sidebar-menu .menu-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    trocarMenu(btn.dataset.menu);
                });
            });

            // Bottom navigation (mobile)
            document.querySelectorAll('.bottom-nav-vitrine button').forEach(btn => {
                btn.addEventListener('click', function() {
                    trocarMenu(btn.dataset.menu);
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            });

            function trocarMenu(menu) {
                // Atualizar sidebar
                document.querySelectorAll('.sidebar-menu .menu-btn').forEach(b => b.classList.remove('ativo'));
                const btnSidebar = document.querySelector('.sidebar-menu .menu-btn[data-menu="' + menu + '"]');
                if (btnSidebar) btnSidebar.classList.add('ativo');

                // Atualizar bottom nav
                document.querySelectorAll('.bottom-nav-vitrine button').forEach(b => b.classList.remove('ativo'));
                const btnMobile = document.querySelector('.bottom-nav-vitrine button[data-menu="' + menu + '"]');
                if (btnMobile) btnMobile.classList.add('ativo');

                // Trocar conteÃºdo
                document.querySelectorAll('.main-content-vitrine .menu-content').forEach(sec => sec.classList.remove('ativo'));
                const tela = document.getElementById('menu-' + menu);
                if (tela) tela.classList.add('ativo');
            }

            // SeleÃ§Ã£o de profissionais
            document.querySelectorAll('.card-profissional').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.card-profissional').forEach(c => c.classList.remove('selecionado'));
                    card.classList.add('selecionado');
                    
                    // Adicionar feedback visual
                    card.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        card.style.transform = '';
                    }, 150);
                });
            });

            // SeleÃ§Ã£o de serviÃ§os
            document.querySelectorAll('.card-servico').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.card-servico').forEach(c => c.classList.remove('selecionado'));
                    card.classList.add('selecionado');
                    
                    // Adicionar feedback visual
                    card.style.transform = 'translateX(10px)';
                    setTimeout(() => {
                        card.style.transform = '';
                    }, 200);
                });
            });

            // SeleÃ§Ã£o de horÃ¡rios
            document.querySelectorAll('.btn-horario').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.btn-horario').forEach(b => b.classList.remove('selecionado'));
                    btn.classList.add('selecionado');
                    
                    // Habilitar botÃ£o de confirmar
                    document.getElementById('btn-confirmar-agendamento').disabled = false;
                    
                    // Adicionar feedback visual
                    btn.style.transform = 'scale(0.9)';
                    setTimeout(() => {
                        btn.style.transform = '';
                    }, 150);
                });
            });

            // BotÃµes de filtro de agendamentos
            document.querySelectorAll('.btn-toggle').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.btn-toggle').forEach(b => b.classList.remove('ativo'));
                    btn.classList.add('ativo');
                });
            });

            // Confirmar agendamento
            document.getElementById('btn-confirmar-agendamento').addEventListener('click', function() {
                const profissional = document.querySelector('.card-profissional.selecionado');
                const servico = document.querySelector('.card-servico.selecionado');
                const data = document.getElementById('data-agendamento').value;
                const horario = document.querySelector('.btn-horario.selecionado');

                if (!profissional || !servico || !data || !horario) {
                    alert('Por favor, selecione todas as opÃ§Ãµes antes de confirmar.');
                    return;
                }

                // Simular loading
                this.innerHTML = 'â³ Agendando...';
                this.disabled = true;

                setTimeout(() => {
                    alert('âœ… Agendamento confirmado com sucesso!');
                    this.innerHTML = 'âœ… Confirmar Agendamento';
                    this.disabled = false;
                    
                    // Limpar seleÃ§Ãµes
                    document.querySelectorAll('.selecionado').forEach(el => el.classList.remove('selecionado'));
                    document.getElementById('data-agendamento').value = '';
                }, 2000);
            });

            // Cancelar agendamento
            document.querySelectorAll('.btn-cancelar').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (confirm('Tem certeza que deseja cancelar este agendamento?')) {
                        const card = this.closest('.card-agendamento');
                        card.style.transform = 'translateX(-100%)';
                        card.style.opacity = '0';
                        setTimeout(() => {
                            card.remove();
                        }, 300);
                    }
                });
            });

            // Adicionar efeitos de hover para touch devices
            if ('ontouchstart' in window) {
                document.querySelectorAll('.card-profissional, .card-servico, .btn-horario').forEach(el => {
                    el.addEventListener('touchstart', function() {
                        this.style.transform = 'scale(0.98)';
                    });
                    el.addEventListener('touchend', function() {
                        setTimeout(() => {
                            this.style.transform = '';
                        }, 100);
                    });
                });
            }
        });
    </script>
</body>
</html>
