<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Administração de Clientes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- React e ReactDOM CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel para usar JSX direto no navegador -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background: #f6f6fa; margin: 0; }
    .container { max-width: 700px; margin: 40px auto; background: #fff; border-radius: 8px; box-shadow: 0 2px 10px #0001; padding: 32px; }
    h2 { font-size: 1.7em; margin-bottom: 24px; }
    .empresa { border: 1px solid #eee; margin-bottom: 32px; border-radius: 8px; padding: 16px; background: #fafbfc; }
    .empresa-header { display: flex; align-items: center; justify-content: space-between; }
    .empresa-status { font-weight: bold; }
    .btn-block { background: #dc2626; color: #fff; border: none; border-radius: 4px; padding: 6px 18px; cursor: pointer; }
    .btn-unblock { background: #10b981; color: #fff; border: none; border-radius: 4px; padding: 6px 18px; cursor: pointer; }
    table { width: 100%; margin-top: 8px; border-collapse: collapse; }
    th, td { padding: 6px 9px; }
    thead tr { background: #f3f4f6; }
    tbody tr.blocked { background: #fde2e2; }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- 
    Não use "src=" se o arquivo JS não for puro ES5/JSX.
    O recomendado: coloque o código JS mockado DENTRO do <script type="text/babel">.
  -->
  <script type="text/babel">
    function AdminClientes() {
      const [empresas, setEmpresas] = React.useState([
        {
          uid: "1",
          nome: "Empresa XPTO",
          email: "xpto@empresa.com",
          bloqueado: false,
          funcionarios: [
            { id: "a", nome: "Ana", email: "ana@empresa.com", bloqueado: false },
            { id: "b", nome: "Beto", email: "beto@empresa.com", bloqueado: true }
          ]
        },
        {
          uid: "2",
          nome: "Empresa Beta",
          email: "beta@empresa.com",
          bloqueado: true,
          funcionarios: [
            { id: "c", nome: "Carlos", email: "carlos@empresa.com", bloqueado: false }
          ]
        }
      ]);

      function bloquearEmpresa(uid, bloquear) {
        setEmpresas(empresas.map(emp =>
          emp.uid === uid
            ? { ...emp, bloqueado: bloquear, funcionarios: emp.funcionarios.map(f => ({ ...f, bloqueado: bloquear })) }
            : emp
        ));
      }

      return (
        <div className="container">
          <h2>Gestão de Empresas e Funcionários</h2>
          {empresas.map(empresa => (
            <div className="empresa" key={empresa.uid}>
              <div className="empresa-header">
                <div>
                  <div><strong>Empresa:</strong> {empresa.nome} ({empresa.email})</div>
                  <div><strong>Status:</strong> <span className="empresa-status" style={{ color: empresa.bloqueado ? "#dc2626" : "#10b981" }}>{empresa.bloqueado ? "Bloqueada" : "Ativa"}</span></div>
                </div>
                <button
                  className={empresa.bloqueado ? "btn-unblock" : "btn-block"}
                  onClick={() => bloquearEmpresa(empresa.uid, !empresa.bloqueado)}
                >
                  {empresa.bloqueado ? "Desbloquear Empresa" : "Bloquear Empresa"}
                </button>
              </div>
              <div style={{ marginTop: 16 }}>
                <strong>Funcionários:</strong>
                <table>
                  <thead>
                    <tr>
                      <th>Nome</th>
                      <th>Email</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    {empresa.funcionarios.length === 0 && (
                      <tr>
                        <td colSpan={3} style={{ textAlign: "center", color: "#aaa" }}>Nenhum funcionário</td>
                      </tr>
                    )}
                    {empresa.funcionarios.map(func => (
                      <tr key={func.id} className={func.bloqueado ? "blocked" : ""}>
                        <td>{func.nome}</td>
                        <td>{func.email}</td>
                        <td>
                          <span style={{ color: func.bloqueado ? "#dc2626" : "#10b981" }}>
                            {func.bloqueado ? "Bloqueado" : "Ativo"}
                          </span>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          ))}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<AdminClientes />);
  </script>
</body>
</html>
