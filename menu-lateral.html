<aside class="sidebar" id="sidebar">
    <a href="index.html" class="sidebar-brand">Pronti</a>
    <hr />
    <nav class="sidebar-links">
        <a href="index.html"><span>🏠</span> Início</a>
        <a href="dashboard.html"><span>📊</span> Dashboard</a>
        <a href="servicos.html"><span>🛠️</span> Serviços</a>
        <a href="agenda.html"><span>📅</span> Agenda</a>
        <a href="clientes.html"><span>👤</span> Clientes</a>
        <a href="equipe.html"><span>👥</span> Equipe</a>
        <a href="perfil.html"><span>🙍‍♂️</span> Meu Perfil</a>
    </nav>
    <div class="sidebar-footer">
        <button id="btn-logout" class="btn-logout">Sair</button>
    </div>
</aside>
<style>
/* ... seu CSS permanece igual, sem alterações ... */
</style>
<script>
// Ativa o link correto no menu
document.addEventListener("DOMContentLoaded", function() {
  const links = document.querySelectorAll('#sidebar .sidebar-links a');
  const current = window.location.pathname.split('/').pop().toLowerCase();
  links.forEach(link => {
    let href = link.getAttribute('href').split('?')[0].toLowerCase();
    if (href === current || (href === 'index.html' && (current === '' || current === 'index.html'))) {
      link.classList.add('active');
    }
  });
});
</script>
<script type="module">
// Corrigido: esse script DEVE estar em TODAS as páginas com o menu!
import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
function ativarLogout() {
  const btnLogout = document.getElementById("btn-logout");
  if (btnLogout) {
    // Remove qualquer listener anterior para evitar duplicidade em SPAs
    btnLogout.replaceWith(btnLogout.cloneNode(true));
    const novoBtnLogout = document.getElementById("btn-logout");
    novoBtnLogout.addEventListener("click", async function() {
      try {
        await signOut(getAuth());
        window.location.href = "login.html";
      } catch (e) {
        alert("Erro ao sair: " + e.message);
      }
    });
  }
}
if (document.readyState === "loading") {
  document.addEventListener("DOMContentLoaded", ativarLogout);
} else {
  ativarLogout();
}
</script>
